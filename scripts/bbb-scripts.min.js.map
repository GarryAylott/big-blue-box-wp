{"version":3,"file":"bbb-scripts.min.js","names":["primaryNav","document","querySelector","navToggle","addEventListener","isVisible","dataset","visible","setAttribute","String","backgroundImage","ticking","setOpacity","scrollPosition","window","scrollY","opacity","Math","max","style","requestAnimationFrame","passive","searchIcon","searchOverlay","getElementById","e","preventDefault","body","classList","add","target","remove","key","getAttribute","podLinksDetails","open","contains"],"sources":["bbb-scripts.js"],"mappings":"AACA,MAAMA,WAAaC,SAASC,cAAc,QACpCC,UAAYF,SAASC,cAAc,oBAEzCC,WAAWC,iBAAiB,SAAS,KACjC,MAAMC,EAA4C,SAAhCL,YAAYM,QAAQC,QACtCP,YAAYQ,aAAa,eAAgBC,QAAQJ,IACjDF,WAAWK,aAAa,gBAAiBC,QAAQJ,GAAW,IAGhEJ,SAASG,iBAAiB,oBAAoB,KAE1C,MAAMM,EAAkBT,SAASC,cAAc,sBAE/C,GAAIQ,EAAiB,CACjB,IAAIC,GAAU,EACd,MAAMC,EAAa,KACf,MAAMC,EAAiBC,OAAOC,QACxBC,EAAUC,KAAKC,IAAI,EAAKL,EAAiB,IAAM,GACrDH,EAAgBS,MAAMH,QAAUA,EAChCL,GAAU,CAAK,EAGnBC,IAEAE,OAAOV,iBAAiB,UAAU,KACzBO,IACDG,OAAOM,uBAAsB,KACzBR,GAAY,IAEhBD,GAAU,EACd,GACD,CAAEU,SAAS,GAClB,CAGA,MAAMC,EAAarB,SAASC,cAAc,oBACpCqB,EAAgBtB,SAASuB,eAAe,iBAE9CF,GAAYlB,iBAAiB,SAAUqB,IACnCA,EAAEC,iBACFH,GAAef,aAAa,cAAe,SAC3CP,SAAS0B,KAAKC,UAAUC,IAAI,iBAAiB,IAIjDN,GAAenB,iBAAiB,SAAS,EAAG0B,aACpCA,IAAWP,IACXA,EAAcf,aAAa,cAAe,QAC1CP,SAAS0B,KAAKC,UAAUG,OAAO,kBACnC,IAIJ9B,SAASG,iBAAiB,WAAW,EAAG4B,UACxB,WAARA,GAAmE,UAA/CT,GAAeU,aAAa,iBAChDV,EAAcf,aAAa,cAAe,QAC1CP,SAAS0B,KAAKC,UAAUG,OAAO,kBACnC,IAIJ,MAAMG,EAAkBjC,SAASC,cAAc,2BAC3CgC,GACAjC,SAASG,iBAAiB,SAAS,EAAG0B,aAC9BI,EAAgBC,OAASD,EAAgBE,SAASN,KAClDI,EAAgBC,MAAO,EAC3B,GACD,CAAEd,SAAS,GAClB","ignoreList":[],"sourcesContent":["// Responsive nav menu using event delegation\nconst primaryNav = document.querySelector('.nav');\nconst navToggle = document.querySelector('.menu-nav-toggle');\n\nnavToggle?.addEventListener('click', () => {\n    const isVisible = primaryNav?.dataset.visible === 'true';\n    primaryNav?.setAttribute('data-visible', String(!isVisible));\n    navToggle?.setAttribute('aria-expanded', String(!isVisible));\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Fade background image on scroll with optimized performance\n    const backgroundImage = document.querySelector('.bg-image-fade img');\n    \n    if (backgroundImage) {\n        let ticking = false;\n        const setOpacity = () => {\n            const scrollPosition = window.scrollY;\n            const opacity = Math.max(1 - (scrollPosition / 600), 0);\n            backgroundImage.style.opacity = opacity;\n            ticking = false;\n        };\n\n        setOpacity(); // Initial opacity\n\n        window.addEventListener('scroll', () => {\n            if (!ticking) {\n                window.requestAnimationFrame(() => {\n                    setOpacity();\n                });\n                ticking = true;\n            }\n        }, { passive: true });\n    }\n\n    // Search functionality with event delegation\n    const searchIcon = document.querySelector('.nav-search-icon');\n    const searchOverlay = document.getElementById('searchOverlay');\n    \n    searchIcon?.addEventListener('click', (e) => {\n        e.preventDefault();\n        searchOverlay?.setAttribute('aria-hidden', 'false');\n        document.body.classList.add('overlay-active');\n    });\n    \n    // Use event delegation for overlay clicks\n    searchOverlay?.addEventListener('click', ({ target }) => {\n        if (target === searchOverlay) {\n            searchOverlay.setAttribute('aria-hidden', 'true');\n            document.body.classList.remove('overlay-active');\n        }\n    });\n    \n    // Global keyboard event handler\n    document.addEventListener('keydown', ({ key }) => {\n        if (key === 'Escape' && searchOverlay?.getAttribute('aria-hidden') === 'false') {\n            searchOverlay.setAttribute('aria-hidden', 'true');\n            document.body.classList.remove('overlay-active');\n        }\n    });\n\n    // Podcast links menu with optimized click handling\n    const podLinksDetails = document.querySelector('.pod-links-menu details');\n    if (podLinksDetails) {\n        document.addEventListener('click', ({ target }) => {\n            if (podLinksDetails.open && !podLinksDetails.contains(target)) {\n                podLinksDetails.open = false;\n            }\n        }, { passive: true });\n    }\n});"]}